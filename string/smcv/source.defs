#ifdef __CHARMM
#define __kboltzmann kboltz
#else
#define __kboltzmann kboltzmann
#endif

#define _COMMON_ARGS k,gamma,weight
#define __CV_COMMON_ADD(__TYPE) cv_common_add(type=__TYPE, k=k, gamma=gamma, weight=weight)

#define __CALC_CV_FORCE_ENERGY \
 f=cv%k(i)*dummy ;\
 cv%r(i,forces2)=f ;\
 cv%r(i,energy) = half * f * dummy

#define __WRAP_ANGLE(_IN, _OUT) _OUT=modulo(_IN, TWOPI) ; if (_OUT.gt.PI) __INCR(_OUT,-TWOPI)
